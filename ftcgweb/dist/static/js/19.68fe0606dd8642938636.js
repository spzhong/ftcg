webpackJsonp([19],{"6w3C":function(t,e){},qDXG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"bagsendlist",data:function(){return{tableData:[],cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,addVisible:!1,resetVisible:!1,form:{name:"",role:"",phone:""},idx:-1,uid:"",pagenum:0,totalnum:0}},created:function(){this.getData()},computed:{},methods:{handleCurrentChange:function(t){var e=this;this.pagenum=t-1,this.otableData="",setTimeout(function(){e.getData(e.jid)},300)},getData:function(){var t=this;this.url="/testftcg/config/adminGetBagSendList?token="+localStorage.token+"&page="+this.pagenum+"&pageSize=10",this.$axios.get(this.url).then(function(e){if(e.data.code=1){t.totalnum=e.allPage,t.tableData=e.data.data,console.log(t.tableData);t.tableData;t.tableData.some(function(e){var a={0:"管理员",1:"督导员",2:"物业",3:"用户"};t.tableData.map(function(t){var e=t.role;return t.role=a[e]?a[e]:e,t})})}else console.log("不知出啥问题了")})},search:function(){this.is_search=!0},add:function(){this.addVisible=!0},timestampToTime:function(t,e){var a=new Date(t.createTime);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+(a.getDate()+" ")+(a.getHours()+":")+(a.getMinutes()+":")+a.getSeconds()},addtable:function(){var t=this;console.log(this.form.addname),null!=this.form.addname&&null!=this.form.addpassword&&null!=this.form.addrole?(this.url="/testftcg/user/register?token="+localStorage.token+"&name="+this.form.addname+"&password="+this.$md5(this.$md5(this.form.addpassword))+"&role="+this.form.addrole+"&phone="+this.form.addphone+"&villageId="+this.form.villageId,this.$axios.get(this.url).then(function(e){1!=e.data.code?t.$message.error(e.data.msg):(e.data.code=1)&&(t.$message.success("用户创建成功"),t.addVisible=!1,t.form.villageId="",t.form.addpassword="",t.form.addname="",t.form.addphone="",t.form.addrole="",t.getData())})):this.$message.error("请输入数据后再提交")},filterTag:function(t,e){return e.tag===t},handleEdit:function(t,e){this.$message.error("创建后暂不支持修改用户信息，如需操作，请联系运维管理")},handlereset:function(t){var e=this;this.uid=this.tableData[t].id,this.$confirm("此操作将重置账号的密码为手机号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.url="/testftcg/user/adminResetPassword?token="+localStorage.token+"&userId="+e.tableData[t].id,e.$axios.get(e.url).then(function(t){console.log(t),(t.data.code=200)?e.$message.success("重置成功！新密码为用户的手机号"):e.$message.error(t.data.msg),e.getData()})}).catch(function(){})},handleDelete:function(t,e){this.uid=this.tableData[t].id,this.$message.error("本数据不能删除，请谨慎操作，如需操作，请联系运维管理")},handleSelectionChange:function(t){this.multipleSelection=t},saveEdit:function(){this.$message.success("等待修改接口api")}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 用户管理")])],1)],1),t._v(" "),a("div",{staticClass:"container"},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"roomNumberText",label:"房屋信息",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"regionOrigin.villageInfo.name",label:"所在小区/机关",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"regionOrigin.communityInfo.name",label:"所在社区",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"regionOrigin.streetInfo.name",label:"所在街道",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bagNumber",label:"领取数量",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bagTypeString",label:"袋子类型",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"qrCodeId",label:"二维码信息",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",formatter:t.timestampToTime,label:"发放时间",width:"180"}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalnum},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("6w3C")},"data-v-421d4ab2",null);e.default=o.exports}});