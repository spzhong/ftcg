webpackJsonp([9],{"3mZr":function(t,e){},uQ1P:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={name:"futiantable",data:function(){return{tableData:[],xtableData:[],cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,addVisible:!1,delVisible:!1,xaddVisible:!1,xdelVisible:!1,showtable:!0,form:{name:"",date:"",phone:""},idx:-1}},created:function(){this.getData()},computed:{},methods:{getData:function(){var t=this;this.url="/chenjie/testftcg/config/getStreets?token="+localStorage.token,this.$axios.get(this.url).then(function(e){console.log(e),1!=e.data.code?t.$message.error(e.data.msg):(e.data.code=1)?(t.tableData=e.data.data,console.log(t.tableData)):console.log("不知出啥问题了")})},xgetData:function(t){var e=this;console.log("接受的id是"+t),this.url="/chenjie/testftcg/config/getVillages?token="+localStorage.token+"&streetId="+t,this.$axios.get(this.url).then(function(t){if(console.log(t),1!=t.data.code)e.$message.error(t.data.msg);else if(t.data.code=1){e.xtableData=t.data.data,console.log(e.xtableData);e.xtableData;e.xtableData.some(function(t){var a={0:"普通小区",1:"学校",2:"政府机关"};e.xtableData.map(function(t){var e=t.type;return t.type=a[e]?a[e]:e,t})})}else console.log("不知出啥问题了")})},handlecheck:function(t,e){this.showtable=!this.showtable,this.xgetData(e.id),localStorage.setItem("xid",e.id)},xhandlecheck:function(t,e){console.log(e.id)},back:function(){this.showtable=!this.showtable},add:function(){this.addVisible=!0},addtable:function(){var t=this;null!=this.form.addname&&null!=this.form.addtype?(this.url="/chenjie/testftcg/config/baseConfigStreet?token="+localStorage.token+"&name="+this.form.addname,this.$axios.get(this.url).then(function(e){console.log(e),(e.status=200)?(t.addVisible=!1,t.$message.success("插入数据成功"),t.form.addname="",t.getData()):console.log("不知出啥问题了")})):this.$message.error("请输入数据后再提交")},xadd:function(t,e){this.xaddVisible=!0},xaddtable:function(){var t=this;null!=this.form.xaddname&&null!=this.form.xaddtype?(this.url="/chenjie/testftcg/config/baseConfigVillage?token="+localStorage.token+"&streetId="+localStorage.xid+"&name="+this.form.xaddname+"&type="+this.form.xaddtype,this.$axios.get(this.url).then(function(e){console.log(e),(e.status=200)?(t.xaddVisible=!1,t.$message.success("插入数据成功"),t.form.xaddname="",t.form.xaddtype="",t.xgetData(localStorage.xid)):console.log("不知出啥问题了")})):this.$message.error("请输入数据后再提交")},filterTag:function(t,e){return e.tag===t},handleEdit:function(t,e){this.$message.error("创建后暂不支持修改街道信息，如需操作，请联系运维管理")},xhandleEdit:function(t,e){this.$message.error("创建后暂不支持修改小区信息，如需操作，请联系运维管理")},handleSelectionChange:function(t){this.multipleSelection=t},handleDelete:function(t,e){this.idx=t,this.delVisible=!0},deleteRow:function(){var t=this;this.url="/chenjie/testftcg/config/deleteStreet?token="+localStorage.token+"&streetId="+this.tableData[this.idx].id,this.$axios.get(this.url).then(function(e){console.log(e),(e.status=200)?(t.tableData.splice(t.idx,1),t.$message.success("删除成功"),t.delVisible=!1):console.log("不知出啥问题了")})},xhandleDelete:function(t,e){this.idx=t,this.xdelVisible=!0},xdeleteRow:function(){var t=this;this.url="/chenjie/testftcg/config/deleteVillage?token="+localStorage.token+"&villageId="+this.xtableData[this.idx].id,this.$axios.get(this.url).then(function(e){console.log(e),(e.status=200)?(t.xtableData.splice(t.idx,1),t.$message.success("删除成功"),t.xdelVisible=!1):console.log("不知出啥问题了")})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showtable,expression:"showtable"}],staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 街道基础数据")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showtable,expression:"!showtable"}],staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 街道基础数据--小区基础数据")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showtable,expression:"showtable"}],staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"add",attrs:{type:"primary",icon:"search"},on:{click:t.add}},[t._v("新增街道")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"街道名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"260",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{staticClass:"blue",attrs:{type:"text",icon:"el-icon-info"},on:{click:function(a){t.handlecheck(e.$index,e.row)}}},[t._v("查看街道内小区")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showtable,expression:"!showtable"}],staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.back}},[t._v("返回")]),t._v(" "),a("el-button",{staticClass:"add",attrs:{type:"primary",icon:"search"},on:{click:t.xadd}},[t._v("新增小区")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.xtableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"小区名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"260",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){t.xhandleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){t.xhandleDelete(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{staticClass:"blue",attrs:{type:"text",icon:"el-icon-info"},on:{click:function(a){t.xhandlecheck(e.$index,e.row)}}},[t._v("查看小区内住户")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增街道",visible:t.addVisible,width:"30%"},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"输入街道名"},model:{value:t.form.addname,callback:function(e){t.$set(t.form,"addname",e)},expression:"form.addname"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addtable}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增小区",visible:t.xaddVisible,width:"30%"},on:{"update:visible":function(e){t.xaddVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"输入小区名"},model:{value:t.form.xaddname,callback:function(e){t.$set(t.form,"xaddname",e)},expression:"form.xaddname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"小区类型"}},[a("el-select",{attrs:{placeholder:"请选择用户"},model:{value:t.form.xaddtype,callback:function(e){t.$set(t.form,"xaddtype",e)},expression:"form.xaddtype"}},[a("el-option",{key:"0",attrs:{label:"普通小区",value:"0"}}),t._v(" "),a("el-option",{key:"1",attrs:{label:"学校",value:"1"}}),t._v(" "),a("el-option",{key:"2",attrs:{label:"政府机关",value:"2"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.xaddVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.xaddtable}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"删除街道提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"删除小区提示",visible:t.xdelVisible,width:"300px",center:""},on:{"update:visible":function(e){t.xdelVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.xdelVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.xdeleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(t){a("3mZr")},"data-v-7de1cd77",null);e.default=o.exports}});